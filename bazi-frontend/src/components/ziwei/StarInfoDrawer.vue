<template>
  <InfoDrawer :is-open="isOpen" :title="starInfo?.name || 'ä¸»æ˜Ÿèªªæ˜'" @close="$emit('close')">
    <div v-if="starInfo" class="space-y-4">
      <!-- åŸºæœ¬è³‡è¨Š -->
      <div>
        <h4 class="text-xl font-bold text-foreground mb-2">
          {{ starInfo.name }} ({{ starInfo.nameEn }})
        </h4>
        <div class="flex items-center gap-2 mb-2">
          <span class="px-2 py-1 bg-primary text-primary-foreground rounded text-sm">{{ starInfo.type }}</span>
          <span class="px-2 py-1 bg-secondary text-secondary-foreground rounded text-sm">{{ starInfo.element }}è¡Œ</span>
        </div>
        <p class="text-muted-foreground leading-relaxed">{{ starInfo.description }}</p>
      </div>

      <!-- æ€§æ ¼ç‰¹è³ª -->
      <div class="bg-muted p-4 rounded-lg">
        <h5 class="text-foreground font-semibold mb-2">ğŸ‘¤ æ€§æ ¼ç‰¹è³ª</h5>
        <p class="text-muted-foreground leading-relaxed">{{ starInfo.personality }}</p>
      </div>

      <!-- äº‹æ¥­é‹å‹¢ -->
      <div class="bg-muted p-4 rounded-lg">
        <h5 class="text-foreground font-semibold mb-2">ğŸ’¼ äº‹æ¥­é‹å‹¢</h5>
        <p class="text-muted-foreground leading-relaxed">{{ starInfo.career }}</p>
      </div>

      <!-- è²¡é‹ -->
      <div class="bg-muted p-4 rounded-lg">
        <h5 class="text-foreground font-semibold mb-2">ğŸ’° è²¡é‹</h5>
        <p class="text-muted-foreground leading-relaxed">{{ starInfo.wealth }}</p>
      </div>

      <!-- æ„Ÿæƒ…é‹å‹¢ -->
      <div class="bg-muted p-4 rounded-lg">
        <h5 class="text-foreground font-semibold mb-2">ğŸ’• æ„Ÿæƒ…é‹å‹¢</h5>
        <p class="text-muted-foreground leading-relaxed">{{ starInfo.relationship }}</p>
      </div>

      <!-- å¥åº·æ³¨æ„ -->
      <div class="bg-muted p-4 rounded-lg">
        <h5 class="text-foreground font-semibold mb-2">ğŸ¥ å¥åº·æ³¨æ„</h5>
        <p class="text-muted-foreground leading-relaxed">{{ starInfo.health }}</p>
      </div>

      <!-- å»Ÿæ—ºå¹³é™· -->
      <div>
        <h5 class="text-foreground font-semibold mb-2">â­ å»Ÿæ—ºå¹³é™·</h5>
        <div class="flex flex-wrap gap-2">
          <span
            v-for="(brightness, index) in starInfo.brightness"
            :key="index"
            :class="getBrightnessClass(brightness)"
            class="px-3 py-1 rounded-full text-sm"
          >
            {{ brightness }}
          </span>
        </div>
      </div>
    </div>
  </InfoDrawer>
</template>

<script setup>
import InfoDrawer from '../common/InfoDrawer.vue'

defineProps({
  isOpen: {
    type: Boolean,
    default: false
  },
  starInfo: {
    type: Object,
    default: null
  }
})

defineEmits(['close'])

function getBrightnessClass(brightness) {
  const classes = {
    'å»Ÿ': 'bg-primary text-primary-foreground',
    'æ—º': 'bg-primary/80 text-primary-foreground',
    'å¾—': 'bg-secondary text-secondary-foreground',
    'åˆ©': 'bg-muted text-foreground',
    'å¹³': 'bg-muted text-muted-foreground',
    'ä¸': 'bg-muted text-muted-foreground',
    'é™·': 'bg-muted text-muted-foreground'
  }
  return classes[brightness] || 'bg-muted text-muted-foreground'
}
</script>


